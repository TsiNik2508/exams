var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,i=(e,s)=>{for(var t in s||(s={}))l.call(s,t)&&n(e,t,s[t]);if(r)for(var t of r(s))o.call(s,t)&&n(e,t,s[t]);return e},a=(e,r)=>s(e,t(r));import{r as d,j as c,B as x,T as h,e as m,ar as u,as as f,E as b,N as p,A as g,s as j,v,w as y}from"./mui-Bfi7Rnus.js";import"./vendor-BI3NJeJA.js";const w=()=>{const[e,s]=d.useState({name:"",phone:"",email:"",message:""}),[t,r]=d.useState(!1),[l,o]=d.useState("idle"),[n,w]=d.useState("");d.useEffect(()=>{o("idle")},[]);const S=t=>{const{name:r,value:l}=t.target;s(a(i({},e),{[r]:l}))};const C=d.useRef(null);return c.jsxs(x,{sx:{py:8,position:"relative",overflow:"hidden"},children:[c.jsx(h,{variant:"h4",textAlign:"center",sx:{mb:4,fontWeight:700,color:"#1e7dbd",zIndex:2,position:"relative"},children:"Свяжитесь с нами"}),c.jsx(x,{sx:{maxWidth:1200,mx:"auto",px:2,position:"relative",zIndex:2},children:c.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:[c.jsx(x,{sx:{flex:{md:"0 0 40%"}},children:c.jsxs(m,{elevation:0,sx:{p:4,height:"100%",background:"rgba(255, 255, 255, 0.9)",borderRadius:4},children:[c.jsx(h,{variant:"h6",sx:{mb:3,color:"#1e7dbd",fontWeight:700},children:"Контактная информация"}),c.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(u,{sx:{color:"#1e7dbd",mr:2,fontSize:28}}),c.jsxs(x,{children:[c.jsx(h,{sx:{fontWeight:600,mb:.5},children:"Адрес"}),c.jsx(h,{sx:{color:"#666"},children:"г. Москва, ул. Примерная, 123"})]})]}),c.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(f,{sx:{color:"#1e7dbd",mr:2,fontSize:28}}),c.jsxs(x,{children:[c.jsx(h,{sx:{fontWeight:600,mb:.5},children:"Телефон"}),c.jsx(h,{sx:{color:"#666"},children:"+7 (123) 456-78-90"})]})]}),c.jsxs(x,{sx:{display:"flex",alignItems:"center",mb:3},children:[c.jsx(b,{sx:{color:"#1e7dbd",mr:2,fontSize:28}}),c.jsxs(x,{children:[c.jsx(h,{sx:{fontWeight:600,mb:.5},children:"Email"}),c.jsx(h,{sx:{color:"#666"},children:"erudite_edu@mail.ru"})]})]}),c.jsxs(x,{sx:{display:"flex",alignItems:"center"},children:[c.jsx(p,{sx:{color:"#1e7dbd",mr:2,fontSize:28}}),c.jsxs(x,{children:[c.jsx(h,{sx:{fontWeight:600,mb:.5},children:"Режим работы"}),c.jsx(h,{sx:{color:"#666"},children:"Пн-Пт: 9:00 - 20:00"}),c.jsx(h,{sx:{color:"#666"},children:"Сб-Вс: 10:00 - 18:00"})]})]})]})}),c.jsx(x,{sx:{flex:{md:"0 0 60%"}},children:c.jsxs(m,{elevation:0,sx:{p:4,background:"rgba(255, 255, 255, 0.9)",borderRadius:4},children:[c.jsx(h,{variant:"h6",sx:{mb:3,color:"#1e7dbd",fontWeight:700},children:"Напишите нам"}),"success"===l?c.jsxs(x,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:6,px:2,textAlign:"center",animation:"fadeIn 0.7s"},children:[c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginBottom:16},children:[c.jsx("circle",{cx:"32",cy:"32",r:"32",fill:"#4caf50",fillOpacity:"0.15"}),c.jsx("path",{d:"M20 34L29 43L44 25",stroke:"#4caf50",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),c.jsx(h,{variant:"h5",sx:{fontWeight:800,color:"#388e3c",mb:1},children:"Спасибо за заявку!"}),c.jsx(h,{variant:"body1",sx:{color:"#444",mb:1,fontSize:18},children:"Мы свяжемся с вами в ближайшее время."})]}):c.jsxs(c.Fragment,{children:["error"===l&&c.jsx(g,{severity:"error",sx:{mb:3},children:n}),c.jsxs(x,{component:"form",onSubmit:t=>{return l=null,n=null,i=function*(){if(t.preventDefault(),!(e.name&&e.phone&&e.email&&e.message))return o("error"),void w("Пожалуйста, заполните все поля");r(!0),o("idle"),w("");try{const t=yield fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:"7a09cf75-5cd1-4b5d-afef-643ced045eab",name:e.name,phone:e.phone,email:e.email,message:e.message,subject:"Новая заявка с сайта Эрудит",from_name:e.name,replyto:e.email})});if(!(yield t.json()).success)throw new Error("Ошибка отправки формы");o("success"),s({name:"",phone:"",email:"",message:""})}catch(l){o("error"),w("Произошла ошибка при отправке. Попробуйте еще раз или свяжитесь с нами по телефону.")}finally{r(!1)}},new Promise((e,s)=>{var r=e=>{try{a(i.next(e))}catch(t){s(t)}},o=e=>{try{a(i.throw(e))}catch(t){s(t)}},a=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,o);a((i=i.apply(l,n)).next())});var l,n,i},children:[c.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:2},children:[c.jsx(j,{fullWidth:!0,label:"Ваше имя",name:"name",value:e.name,onChange:S,variant:"outlined",disabled:t,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#1e7dbd"},"&.Mui-focused fieldset":{borderColor:"#1e7dbd"}}}}),c.jsx(j,{fullWidth:!0,label:"Телефон",name:"phone",value:e.phone,onChange:e=>{let t=e.target.value;t=t.replace(/[^\d+]/g,""),t.startsWith("+7")||(t="+7"+t.replace(/^\+?7?/,""));const r=function(e){let s=e.replace(/\D/g,"");s.startsWith("7")&&(s=s.slice(1)),s.length>10&&(s=s.slice(0,10));let t="+7";return s.length>0&&(t+=" ("+s.slice(0,3)),s.length>=4&&(t+=") "+s.slice(3,6)),s.length>=7&&(t+="-"+s.slice(6,8)),s.length>=9&&(t+="-"+s.slice(8,10)),t}(t);s(e=>a(i({},e),{phone:r}))},variant:"outlined",disabled:t,placeholder:"+7 (___) ___-__-__",inputProps:{maxLength:18,inputMode:"tel",pattern:"\\+7 \\([0-9]{3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}",ref:C},onFocus:e=>{setTimeout(()=>{const s=e.target;null!==s.selectionStart&&s.selectionStart<4&&s.setSelectionRange(4,4)},0)},onClick:e=>{const s=e.target;null!==s.selectionStart&&s.selectionStart<4&&(s.setSelectionRange(4,4),e.preventDefault())},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#1e7dbd"},"&.Mui-focused fieldset":{borderColor:"#1e7dbd"}}}})]}),c.jsx(j,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:S,variant:"outlined",disabled:t,sx:{mb:2,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#1e7dbd"},"&.Mui-focused fieldset":{borderColor:"#1e7dbd"}}}}),c.jsx(j,{fullWidth:!0,label:"Сообщение",name:"message",multiline:!0,rows:4,value:e.message,onChange:S,variant:"outlined",disabled:t,sx:{mb:2,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#1e7dbd"},"&.Mui-focused fieldset":{borderColor:"#1e7dbd"}}}}),c.jsx(v,{type:"submit",variant:"contained",fullWidth:!0,disabled:t,sx:{fontWeight:700,borderRadius:2,fontSize:17,py:1.5,boxShadow:"0 4px 24px 0 rgba(30,125,189,0.13)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 32px 0 rgba(242,170,141,0.18)",transform:"translateY(-2px)"},"&:disabled":{opacity:.7}},children:t?c.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(y,{size:20,color:"inherit"}),"Отправляем..."]}):"Отправить сообщение"})]})]})]})})]})})]})};export{w as default};
